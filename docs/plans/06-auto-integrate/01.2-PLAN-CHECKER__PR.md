# Make Instruction to Check the Nice PR Plan

My prompt `<my_prompt>` asking for a "plan checker instruction". Use `<response>` as instruction to check the plan `docs/plans/06-auto-integrate/04.0-nice-pr-plan.md`.

---

<my_prompt>
If you were to instruct Claude Opus 4 to check this document comprehensively with the goal of ensuring it takes a legitimate architectural approach, and is consistent against the current code base so that it directs implementation without "things that are incorrect or not true or inconsistent" - how would you instruct Claude Opus 4 to do this **assuming** this is the first time Claude Opus 4 is in this code base. Will it be effective and beneficial to include in the instruction to use root file `PROJECT_INDEX.json` and for what purpose? (analyse the file before you answer this).

Finally, please write the clear instruction that will result in an effective response.
</my_prompt>

<response>
**PLEASE THINK HARD TO COMPLETE THIS TASK COMPREHENSIVELY AND ACCURATELY:**

## Task: Comprehensive Architecture Review of PR Strategy Document

You are reviewing a PR strategy document (`docs/plans/06-auto-integrate/04.0-nice-pr-plan.md`) for integrating an experimental URL-based YouTube transcript fetcher into an existing file-based transcript processing application. This is your first time seeing this codebase.

## Your Goal

Verify that the proposed architecture is legitimate, consistent with the current codebase, and will result in successful implementation without incorrect assumptions or inconsistencies.

## Critical Resources to Use

1. **Start with `PROJECT_INDEX.json`** - This provides a complete map of the codebase:
   - Function signatures with types (shows current parameters and return types)
   - Class definitions and their locations
   - Import dependencies between modules
   - Use this to quickly verify claims about current state without reading all files

2. **Read `docs/plans/06-auto-integrate/04.0-nice-pr-plan.md`** thoroughly to understand the architecture and proposed changes

3. **Spot-check actual files** only when PROJECT_INDEX doesn't provide enough detail

## Verification Checklist

### 1. Current State Accuracy

- Verify all "Issue" statements in Critical Integration Challenges are true
- Confirm the described incompatibilities actually exist (use PROJECT_INDEX.json)
- Check that function signatures mentioned match reality

### 2. Architecture Legitimacy

- Evaluate if the Target Architecture follows clean design principles (SOLID, DRY, YAGNI)
- Assess if TranscriptDocument as a unifying abstraction makes sense
- Verify the proposed data flow is logical and maintainable

### 3. PR Sequence Validation

- Confirm each PR's dependencies are correctly stated
- Verify that each PR delivers value without creating dead code
- Check that the refactoring order (URL script first, file parser second) is optimal

### 4. Technical Consistency

- Verify that proposed function/class names don't conflict with existing ones
- Confirm that the XML output format shown matches what tests expect
- Check that proposed models align with existing patterns in the codebase

### 5. Implementation Feasibility

- For each PR, verify that the described changes are technically possible
- Check if any PR makes assumptions about code that doesn't exist
- Identify any missing steps or overlooked dependencies

## Output Required

### 1. Executive Summary

Is this plan sound and ready for implementation?

### 2. Critical Issues (if any)

- Incorrect statements about current code
- Architectural flaws
- Missing dependencies
- Inconsistencies between PRs

### 3. Minor Improvements (if any)

- Naming suggestions
- Ordering optimizations
- Risk mitigation ideas

### 4. Confirmation Points

- What aspects of the plan are particularly well-designed
- Which PRs will deliver the most value

**Important**: Focus on finding issues that would cause implementation problems. Be specific and reference line numbers or function names from PROJECT_INDEX.json when pointing out discrepancies.

Save as new file: `docs/plans/06-auto-integrate/04.1-plan-checked-report.md`
</response>
